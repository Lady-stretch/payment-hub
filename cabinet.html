<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LS Premium</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <style>
        body, html {
            margin: 0; padding: 0; background: #000;
            font-family: 'Montserrat', sans-serif; color: #fff;
            height: 100vh; overflow: hidden;
        }

        /* Тот самый Apple Blur */
        #video-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; z-index: -1; filter: brightness(0.5);
        }

        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at top right, rgba(122, 90, 248, 0.15), transparent);
            z-index: 0;
        }

        .content {
            position: relative; z-index: 10; padding: 30px 20px;
            display: flex; flex-direction: column; height: 100vh; box-sizing: border-box;
        }

        .logo { width: 140px; margin: 0 auto 40px; display: block; }

        /* Кольцо прогресса вместо полоски */
        .status-circle {
            position: relative; width: 180px; height: 180px; margin: 0 auto 40px;
            display: flex; align-items: center; justify-content: center;
        }
        
        svg { transform: rotate(-90deg); width: 100%; height: 100%; }
        circle {
            fill: none; stroke-width: 6; stroke-linecap: round;
        }
        .circle-bg { stroke: rgba(255,255,255,0.1); }
        .circle-val {
            stroke: var(--accent, #a18aff);
            stroke-dasharray: 440; stroke-dashoffset: 380; /* Динамика */
            transition: stroke-dashoffset 2s ease-in-out;
            filter: drop-shadow(0 0 8px #a18aff);
        }

        .counter-text {
            position: absolute; text-align: center;
        }
        .counter-text span { font-size: 42px; font-weight: 200; display: block; }
        .counter-text small { font-size: 10px; color: rgba(255,255,255,0.4); letter-spacing: 2px; }

        /* Карточка-стекло с эффектом парения */
        .glass-panel {
            background: rgba(255, 255, 255, 0.07);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border: 0.5px solid rgba(255,255,255,0.15);
            border-radius: 35px; padding: 25px; margin-top: auto;
        }

        select, input {
            width: 100%; background: transparent; border: none;
            color: #fff; font-size: 18px; font-family: inherit;
            padding: 15px 0; border-bottom: 0.5px solid rgba(255,255,255,0.2);
            margin-bottom: 20px; outline: none;
        }

        option { background: #111; color: #fff; }

        .btn-confirm {
            background: #fff; color: #000; border: none;
            width: 100%; padding: 18px; border-radius: 20px;
            font-weight: 600; font-size: 14px; letter-spacing: 1px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        .bio-hook-area {
            margin-top: 25px; font-size: 13px; line-height: 1.6;
            color: rgba(255,255,255,0.6); font-weight: 300;
        }
    </style>
</head>
<body>

    <video id="video-bg" autoplay muted loop playsinline>
        <source src="hero-video.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>

    <div class="content">
        <img src="lady_logo.png" class="logo" alt="Lady Stretch">

        <div class="status-circle">
            <svg viewBox="0 0 160 160">
                <circle class="circle-bg" cx="80" cy="80" r="70"></circle>
                <circle class="circle-val" id="progress-ring" cx="80" cy="80" r="70"></circle>
            </svg>
            <div class="counter-text">
                <span id="curr-val">14</span>
                <small>ИЗ 96 ШАГОВ</small>
            </div>
        </div>

        <div class="glass-panel">
            <select id="w-type" onchange="updateInfo()">
                <option value="sculpt">Body Sculpt</option>
                <option value="spine">Здоровая Спина</option>
                <option value="sky">Sky Stretching</option>
                <option value="abs">Ягодицы + Пресс</option>
            </select>
            
            <input type="number" id="w-val" placeholder="Твоё состояние (1-10)">
            
            <button class="btn-confirm" onclick="confirm()">ПОДТВЕРДИТЬ</button>

            <div class="bio-hook-area" id="bio-msg">
                Ваша энергия на пике. Body Sculpt запускает жиросжигание на 24 часа.
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // Анимация кольца
        function setProgress(percent) {
            const circle = document.getElementById('progress-ring');
            const radius = circle.r.baseVal.value;
            const circumference = 2 * Math.PI * radius;
            const offset = circumference - (percent / 100 * circumference);
            circle.style.strokeDasharray = `${circumference} ${circumference}`;
            circle.style.strokeDashoffset = offset;
        }

        // Старт (для примера 14 занятий)
        setTimeout(() => setProgress((14/96)*100), 500);

        function updateInfo() {
            const type = document.getElementById('w-type').value;
            const msg = document.getElementById('bio-msg');
            const hooks = {
                sculpt: "Метаболизм ускорен. Организм сжигает жиры даже во сне.",
                spine: "Декомпрессия позвоночника завершена. Кровоток восстановлен.",
                sky: "Лимфодренажный эффект активен. Лишняя жидкость уходит.",
                abs: "Кор активирован. Ваша осанка становится вашей опорой."
            };
            msg.innerText = hooks[type];
        }

        function confirm() {
            tg.HapticFeedback.notificationOccurred('success');
            const btn = document.querySelector('.btn-confirm');
            btn.style.background = '#a18aff';
            btn.style.color = '#fff';
            btn.innerText = 'РЕЗУЛЬТАТ ПРИНЯТ';
            
            setTimeout(() => tg.close(), 1000);
        }
    </script>
</body>
</html>
